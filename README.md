<h2 align="center">Телеграм-бот-викторина для популяризации программы опеки Московского зоопарка.</h2>

Телеграм-бот написан с применением фреймворка <a href="https://www.djangoproject.com/" target="_blank">Django</a> и библиотеки <a href="https://python-telegram-bot.org/" target="_blank">python-telegram-bot</a>.

Список необходимых пакетов перечислен в файле *req.txt*.

Настройки бота производятся в файле *project/settings.py*.
В переменную 'TOKEN' необходимо внести токен телеграм-бота, выданного <a href="https://t.me/BotFather" target="_blank">@BotFather</a>.

Основной код и логика бота содержатся в файле *bot/management/commands/bot.py.*

Запуск бота производится командой ```python manage.py bot```
При необходимости можно запустить сервер для администрирования командой ```python manage.py runserver```

**Работа бота:**
Бот реагирует на входящие сообщения, выдавая информацию, необходимую для взаимодействия пользователя с ботом. Основное меню доступно после ввода команды */start*. 
Результаты прохождения викторины сохраняются в базу данных. Если пользователь прервет прохождение викторины, то в следующий раз ему будет предложено продолжить прохождение или начать заново. Ответив на все вопросы викторины пользователю отправляется результат прохождения в виде изображения животного и соответствующее сообщение. Также предлагается поделиться результатом прохождения викторины в социальной сети. Репост содержит изображение животного, текст сообщения и ссылку на телеграм-бот. Помимо этого бот предлагает поучаствовать в программе опеки и предоставляет для этого ссылку для перехода на сайт Московского зоопарка в соответствующий раздел. А также бот предлагает перезапустить викторину и начать прохождение заново.
В основном меню бота, запускаемом командой */start* есть возможность задать вопрос сотруднику зоопарка или оставить отзыв о работе телеграм-бота. Отправка вопросов или отзывов осуществляется при помощи функции ```send_mail()``` из модуля *django.core.mail*. Настройка рассылки осуществляется в файле *project/settings.py*. По умолчанию, в целях тестирования, бэкэнд настроен на отправку писем в консоль. При желании или необходимости можно настроить SMTP-сервер в конце файла *project/settings.py*.
